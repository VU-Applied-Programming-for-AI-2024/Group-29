<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="style.css">

    <title>MYTEAM</title>
    
    <script>
        function handleSubmit(event) {
            event.preventDefault(); 

            const sport = document.getElementById('sport').value;
            const league = document.getElementById('league').value;
            const team = document.getElementById('team').value;
            const custom = document.getElementById('customNotification').value; 
            const email = document.getElementById('email').value; 
            document.getElementById('message').innerText = "Thank you for signing up! Excited?";

            const formData = {
                sport: sport,
                league: league,
                team: team,
                custom: custom,
                email: email
            };

            fetch('/api/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                document.getElementById('message').innerText = data.message; 
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>
</head>
<body>
    <nav class="navbar">
        <ul class="navbar__menu">
            <li class="navbar__item">
                <a href="#" class="navbar__link"><i data-feather="home"></i><span>Home</span></a>
            </li>
            <li class="navbar__item">
                <a href="#" class="navbar__link"><i data-feather="help-circle"></i><span>Help</span></a>
            </li>
            <li class="navbar__item">
                <a href="#" class="navbar__link"><i data-feather="settings"></i><span>Settings</span></a>
            </li>
        </ul>
      </nav>
    <form onsubmit="handleSubmit(event)">
        <main>
            <div class="header">
                <div class="header__logo">
                    <img src="images/MyTEAM_Logo.png" alt="MyTEAM_Logo">
                  <strong>LOGO</strong>
                </div>
                
              </div>
            <h2></h2>
        </main>
    <body>
        <h3>     </h3>
        <form id="subscriptionForm">
            <div id="step1">
                <label for="sport">Select Sport:</label>
                <select id="sport" name="sport" required>
                    <option value="">Select a sport</option>
                    <option value="soccer">Soccer</option>
                </select>
            </div>
    
            <div id="step2" >
                <label for="league">Select Soccer League (Top 5):</label>
                <select id="league" name="league" required>
                    <option value="">Select a league</option>
                    <option value="premier-league">Premier League</option>
    
                </select>
    
            </div>
    
            <div id="step3" >
                <label for="team">Select Team:</label>
                <select id="team" name="team" required>
                    <option value="Man City">Man City</option>
                    <option value="Liverpool">Liverpool</option>
                    <option value="Arsenal">Arsenal</option>
                    <option value="Aston Villa">Aston Villa</option>
                    <option value="Tottenham">Tottenham</option>
                    <option value="Chelsea">Chelsea</option>
                    <option value="Newcastle">Newcastle</option>
                    <option value="Man Utd">Man Utd</option>
                    <option value="West Ham">West Ham</option>
                    <option value="Crystal Palace">Crystal Palace</option>
                    <option value="Brighton">Brighton</option>
                    <option value="Bournemouth">Bournemouth</option>
                    <option value="Fulham">Fulham</option>
                    <option value="Wolverhampton">Wolverhampton</option>
                    <option value="Everton">Everton</option>
                    <option value="Brentfors">Brentford</option>
                    <option value="Forest">Forest</option>
                    <option value="Luton">Luton</option>
                    <option value="Burnley">Burnley</option>
                    <option value="Sheff Utd">Sheff Utd</option>
                </select>
    
            </div>
    
            <div id="step4">
                <label for="emailFrequency">When do you want to receive emails? When my team plays against the: </label>
                <select id="emailFrequency" name="emailFrequency" required>
                    <option value="">Select frequency</option>
                    <option value="daily">Top 3</option>
                    <option value="weekly">Top 5</option>
                    <option value="monthly">Top 10</option>
                </select>
    
            </div>
    
            <div id="step5">
                <label>
                    <input type="checkbox" id="emailSubscription" name="emailSubscription" required>
                    I want to receive emails about the top teams.
                </label>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email">
                <button type="button" onclick="handleSubmit(event)">
                <input type="submit" value="Submit">
                <p id="message"></p>
            </div>
        </form>
    
        <script src="script.js"></script>
        
    </body>
    </html>
        